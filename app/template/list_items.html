{% extends "base.html" %}

{% block content %}
  <h3>
    <a href="{{ url_for('lists_page') }}">My Lists</a>
    &nbsp; > &nbsp; {{ list_name }}
    <button class="delete list_del" type="submit" form="delete_list_form" onClick="return confirm('Are you sure you want to delete this list: {{ list_name }} ?')">Delete list</button>
  </h3>
    <form type="hidden" id="delete_list_form" action="{{ url_for('lists_page') }}" method="post">
      <input type="hidden" name="list_id" value="{{ list_id }}" id="{{ list_id }}" />
    </form>
  <hr>
  <div>
      </div>
  <div>
    <ul>
    {% for item in items %}
      <li>
        <label class="container">
          <input type="checkbox">
          <span class="checkmark"></span>
          <a>{{ item.name }}</a>
        </label>
            <button class="delete" type="submit" form="delete_item_form_{{ item.id }}" onClick="return confirm('Are you sure you want to delete {{ item.name }} ?')">&nbsp;&#10007;&nbsp;</button>
            <form type="hidden" id="delete_item_form_{{ item.id }}" action="{{ url_for('list_items_page', list_id=list_id) }}" method="post">
              <input type="hidden" name="item_id" value="{{ item.id }}" id="{{ item.id }}" />
            </form>
      </li>
    {% endfor %}
    </ul>

  </div>
  <br>
  <h4>Add item to list</h4>
  <div>
    <form action="" method="post">
      {{ new_item_form.hidden_tag() }}
      <h4 class="notbold">
        {{ new_item_form.item_name.label }}<br><br>
        {{ new_item_form.item_name(size=32, class_="lower_input") }}
        {% for error in new_item_form.item_name.errors %}
        <span style="color: red;">[{{ error }}]</span><br><br>
        {% endfor %}
      </h4>
      <h4 class="notbold">{{ new_item_form.submit() }}</h4>

      {% with messages = get_flashed_messages() %}
      {% if messages %}
      <ul>
      {% for message in messages %}
      <li style="color: red;">- {{ message }}</li>
      {% endfor %}
      </ul>
      {% endif %}
      {% endwith %}

    </form>
  </div>

<!--   <script>
    var form = document.getElementById("delete_item");
    // document.getElementById("button_delete").addEventListener("click", function () {
      
    // });

    function deleteItemButton(elem) {
      if(confirm('Are you sure you want to delete ' + elem.name + "?") == true) {
        form.item_id = elem.value
        form.submit();
        alert("Deleted item: " + elem.value);
      }
      else {
        return false;
      }
    }
  </script>
 -->

{% endblock %}
